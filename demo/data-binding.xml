<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet href="./demo.xsl" type="text/xsl"?>
<div data-filename="data-binding.xml" 
    data-relativepath="../" 
    xmlns="http://www.w3.org/1999/xhtml" 
    xmlns:xrx="http://www.monasterium.net/NS/xrx" 
    xmlns:demo="http://www.monasterium.net/NS/demo">
  <demo:header>Data Binding</demo:header>
  <demo:description>This page demonstrates the functionality of the XML model-view-controller.</demo:description>
  <p></p>
  <demo:heading>Example 1: Simple (Control<sub>2</sub> &#8594; Binding<sub>2</sub> &#8594; Data<sub>2</sub>)</demo:heading>
  <demo:description><b>Two input controls are bound to two different elements with two different bindings.</b> The
      control data and the instance data are synchronized incrementally.</demo:description>
  <demo:app>
    <xrx:instance id="i-1">
      <data xmlns="">
        <a>Change this text.</a>
        <b>Change this text.</b>
      </data>
    </xrx:instance>
    <xrx:bind id="b-10" ref="xrx:instance('i-1')"/>
    <xrx:bind id="b-11" ref="xrx:instance('i-1')/data/a"/>
    <xrx:bind id="b-12" ref="xrx:instance('i-1')/data/b"/>
    <demo:mvc>
      <demo:view>
        <table>
          <tr>
            <td class="label">Input 1: </td>
            <td><xrx:input bind="b-11"/></td>
          </tr>
          <tr>
            <td class="label">Input 2: </td>
            <td><xrx:input bind="b-12"/></td>
          </tr>
        </table>
      </demo:view>
      <demo:model>
        <xrx:console bind="b-10"/>
      </demo:model>
    </demo:mvc>
    <div class="demo-hint">
      <p></p>
    </div>
  </demo:app>
  <demo:source rows="14">
&lt;xrx:instance id="i-1"&gt;
  &lt;data xmlns=""&gt;
    &lt;a&gt;Change this text.&lt;/a&gt;
    &lt;b&gt;Change this text.&lt;/b&gt;
  &lt;/data&gt;
&lt;/xrx:instance&gt;

&lt;xrx:bind id="b-10" ref="xrx:instance('i-1')"/&gt;
&lt;xrx:bind id="b-11" ref="xrx:instance('i-1')/data/a"/&gt;
&lt;xrx:bind id="b-12" ref="xrx:instance('i-1')/data/b"/&gt;

Input 1: &lt;xrx:input bind="b-11"/&gt;
Input 2: &lt;xrx:input bind="b-12"/&gt;
  </demo:source>



  <demo:heading>Example 2: Multiple Nodes 1 (Control<sub>1</sub> &#8594; Binding<sub>1/3</sub> &#8594; Data<sub>1</sub>)</demo:heading>
  <demo:description><b>A input control is bound to multiple elements.</b> The model-view-controller takes
      the first element and ignores the others. See the next alternative example using a repeat control.</demo:description>
  <demo:app>
    <xrx:instance id="i-2">
      <data xmlns="">
        <a>Change this text.</a>
        <b>Ignored.</b>
        <c>Ignored.</c>
      </data>
    </xrx:instance>
    <xrx:bind id="b-20" ref="xrx:instance('i-2')"/>
    <xrx:bind id="b-21" ref="xrx:instance('i-2')/data/*"/>
    <demo:mvc>
      <demo:view>
        <table>
          <tr>
            <td class="label">Input:</td>
            <td><xrx:input bind="b-21"/></td>
          </tr>
        </table>
      </demo:view>
      <demo:model>
        <xrx:console bind="b-20"/>
      </demo:model>
    </demo:mvc>
    <div class="demo-hint">
      <p></p>
    </div>
  </demo:app>
  <demo:source rows="14">
&lt;xrx:instance id="i-2"&gt;
  &lt;data xmlns=""&gt;
    &lt;a&gt;Change this text.&lt;/a&gt;
    &lt;b&gt;Ignored.&lt;/b&gt;
    &lt;c&gt;Ignored.&lt;/c&gt;
  &lt;/data&gt;
&lt;/xrx:instance&gt;

&lt;xrx:bind id="b-20" ref="xrx:instance('i-2')"/&gt;
&lt;xrx:bind id="b-21" ref="xrx:instance('i-2')/data/*"/&gt;

Input: &lt;xrx:input bind="b-21"/&gt;
  </demo:source>



  <demo:heading>Example 3: Multiple Nodes 2</demo:heading>



  <demo:heading>Example 4: Empty Node-Set (Control<sub>1</sub> &#8592; Binding<sub>1</sub> &#8592; Data<sub>0</sub>)</demo:heading>
  <demo:description><b>A control is bound to a non-existing element.</b> The model-view-controller changes
      the UI state of the input control to readonly.</demo:description>
  <demo:app>
    <xrx:instance id="i-4">
      <data xmlns="">
        <a/>
        <b/>
        <c/>
      </data>
    </xrx:instance>
    <xrx:bind id="b-40" ref="xrx:instance('i-4')"/>
    <xrx:bind id="b-41" ref="xrx:instance('i-4')/data/x"/>
    <demo:mvc>
      <demo:view>
        <table>
          <tr>
            <td class="label">Input:</td>
            <td><xrx:input bind="b-41"/></td>
          </tr>
        </table>
      </demo:view>
      <demo:model>
        <xrx:console bind="b-40"/>
      </demo:model>
    </demo:mvc>
    <div class="demo-hint">
      <p></p>
    </div>
  </demo:app>
  <demo:source rows="14">
&lt;xrx:instance id="i-4"&gt;
  &lt;data xmlns=""&gt;
    &lt;a/&gt;
    &lt;b/&gt;
    &lt;c/&gt;
  &lt;/data&gt;
&lt;/xrx:instance&gt;

&lt;xrx:bind id="b-40" ref="xrx:instance('i-4')"/&gt;
&lt;xrx:bind id="b-41" ref="xrx:instance('i-4')/data/x"/&gt;

Input: &lt;xrx:input bind="b-41"/&gt;
  </demo:source>



  <demo:heading>Example 5: Multiple Bindings (Control<sub>3</sub> &#8592;&#8594; Binding<sub>3</sub> &#8592;&#8594; Data<sub>1</sub>)</demo:heading>
  <demo:description><b>Three different controls using three different bindings reference one element.</b> One output control and two input
      controls are bound to one and the same element, but with three different XPath expressions. If one changes the value of an input
      control, the model-view-controller updates the instance as well as the controls bound to the same element.</demo:description>
  <demo:app>
    <xrx:instance id="i-5">
      <data xmlns="">
        <a/>
        <b/>
        <c>Change this text.</c>
      </data>
    </xrx:instance>
    <xrx:bind id="b-50" ref="xrx:instance('i-5')"/>
    <xrx:bind id="b-51" ref="xrx:instance('i-5')/data/a/following-sibling::c"/>
    <xrx:bind id="b-52" ref="xrx:instance('i-5')/data/c"/>
    <xrx:bind id="b-53" ref="xrx:instance('i-5')/data/b/following-sibling::c"/>
    <demo:mvc>
      <demo:view>
        <table>
          <tr>
            <td class="label">Output: </td>
            <td><xrx:output bind="b-51"/></td>
          </tr>
          <tr>
            <td class="label">Input 1: </td>
            <td><xrx:input bind="b-52"/></td>
          </tr>
          <tr>
            <td class="label">Input 2: </td>
            <td><xrx:input bind="b-53"/></td>
          </tr>
        </table>
      </demo:view>
      <demo:model>
        <xrx:console bind="b-50"/>
      </demo:model>
    </demo:mvc>
    <div class="demo-hint">
      <p></p>
    </div>
  </demo:app>
  <demo:source rows="18">
&lt;xrx:instance id="i-5"&gt;
  &lt;data xmlns=""&gt;
    &lt;a/&gt;
    &lt;b/&gt;
    &lt;c&gt;Change this text.&lt;/c&gt;
  &lt;/data&gt;
&lt;/xrx:instance&gt;

&lt;xrx:bind id="b-50" ref="xrx:instance('i-5')"/&gt;
&lt;xrx:bind id="b-51" ref="xrx:instance('i-5')/data/a/following-sibling::c"/&gt;
&lt;xrx:bind id="b-53" ref="xrx:instance('i-5')/data/b/following-sibling::c"/&gt;
&lt;xrx:bind id="b-52" ref="xrx:instance('i-5')/data/c"/&gt;

&lt;span&gt;Output: &lt;/span&gt;&lt;xrx:output bind="b-51"/&gt;
&lt;span&gt;Input 1: &lt;/span&gt;&lt;xrx:input bind="b-52"/&gt;
&lt;span&gt;Input 2: &lt;/span&gt;&lt;xrx:input bind="b-53"/&gt;
  </demo:source>



  <demo:heading>Example 6: Nested Bindings</demo:heading>
</div>
